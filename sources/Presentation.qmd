---
title: "Presentation"
author: "Schwab"
format: revealjs
editor: visual
---

# Stop, Question, Frisk

-   New York City Police Practice

-   Many articles about the targeting of Black and Latino young men.

-   Studies have shown that this has led to mistrust in the police.

# A bit about me

My name is Nic

I currently teach data science at Smith College.

I normally teach math/data science at Holyoke Community College.

I'm not Black.

I'm am Hispanic.

I am not from New York City.

# 

# Race Exists

Let's acknowledge that Race exists and plays a part in the way human being interact with each other.

# Schedule:

::: incremental
1.  Introduce you to the data.

2.  Pose a question that I have about stop and frisk.

3.  Give you Data Frames with data to answer the question one way.

    i.  You'll order them with a partner.

    ii. You'll make up puesdo code to explain data transformations.

    iii. I'll give you the real code.

4.  We'll repeat the process of data transformation with the real code.

5.  Time for questions
:::

# Questions so far?

# The Data

[Here's](https://www.nyc.gov/site/nypd/stats/reports-analysis/stopfrisk.page) NYC's website with the stop and frisk data.

::: nonincremental
-   Each column is a variable

-   and each row is a stop
:::

Data Dictionaries exist for older data.

New Data variables are more clear.

The variable names are inconsistent.

# A Question

> Are Black, Hispanic, groups more likely to be stopped by police officers than other groups in 2011? Does this change as the total counts of stops decreases to 2021 levels?

# Motivation for question

This Stop and Frisk policing strategy came into force under Michael Bloomberg governor from 2003 to 2013.

During the end of Michael Bloomberg's tenure as governor there was a public out cry of the \_\_\_\_ of this policy.

The policy's discrimination leads to distrust in police.

# Stops in a year

```{r stop-frisk-years}
#| echo: TRUE
#| warning: FALSE
#| include: FALSE

library(tidyverse)
library(readxl)
options(scipen = 10)



```

```{r }
#| eval: False

# Read in each csv file. This is a lot 

# With purr csv

file_paths_csv <- fs::dir_ls("../data/2003_2015_csv_files")

file_contents_csv<- file_paths_csv |>
  map(function (path){
    read_csv(path)
  })

# with purr excel

file_paths_xl <- fs::dir_ls("../data/2016_2022_xl_files")

file_contents_xl<- file_paths_xl |>
  map(function (path){
    read_excel(path)
  })

# https://www.youtube.com/watch?v=An1bUIg-nVM

#See the number of rows i.e stops in each year
pre_2016 <- sapply(file_contents_csv, nrow)
post_2016 <- sapply(file_contents_xl, nrow)


```

```{r graph-of-stop}

years <- c(2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022 )
stops_frisks <- c(160851, 313523, 398191, 506491, 472096, 540302, 581168,  601285, 685724, 532911,  191851, 45787, 22563, 12405, 11629,  11008,   13459,9544 , 8947,  15102)  

sqf <- data.frame(years,stops_frisks)



sqf |> 
  ggplot(aes(years,stops_frisks)) +
  
  geom_rect(aes(xmin=2002,xmax=2014,ymin=0,ymax=Inf),fill="#003585",alpha=0.01)+
  geom_rect(aes(xmin=2014,xmax=2021,ymin=0,ymax=Inf),fill="#FFFFFF",alpha=0.01)+
  geom_rect(aes(xmin=2021,xmax=2022,ymin=0,ymax=Inf),fill="#FF6600",alpha=0.01)+
  geom_line()+
  xlab("Year")+
  ylab("Citizens Stopped ('000s)")+
  labs(title="")+
  theme_minimal()+
  scale_y_continuous(breaks = c(0,350000,700000), labels = c("0","350","700"))+
  scale_x_continuous(breaks = c(2003,2013,2022))+
  geom_text(label="Bloomberg", x = 2004.5, y = 40000, color="gray35" ) +
  geom_text(label="de Blasio", x = 2016, y = 40000, color="gray35" ) +
  geom_text(label="Adams", x = 2022, y = 40000, color="gray35" ) +
  geom_text(label=". NYCLU \n suit", x = 2013, y = 650000, color="gray35" ) +
  geom_vline(xintercept=2012, linetype = 3 )
  
```

# Let's take a look at the data frame together.

# Here are your data frames

Little envelopes Data 2011

Little envelopes Data 2021

Little envelopes Functions
